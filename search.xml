<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Javaæ’å‘æŒ‡å—(éå…¬å¼€ç‰ˆ)</title>
      <link href="/2019/11/14/Java%E6%8E%92%E5%9D%91%E6%8C%87%E5%8D%97-%E9%9D%9E%E5%85%AC%E5%BC%80%E7%89%88/"/>
      <url>/2019/11/14/Java%E6%8E%92%E5%9D%91%E6%8C%87%E5%8D%97-%E9%9D%9E%E5%85%AC%E5%BC%80%E7%89%88/</url>
      
        <content type="html"><![CDATA[<p>è¿™é‡Œè®°å½•ä¸€ä¸ªæ’å‘æ¸…å•ï¼Œæˆ‘ä»¬æ²¡æœ‰å¿…è¦çº ç»“ä»€ä¹ˆå¯¹ï¼Œä»€ä¹ˆæ˜¯é”™ã€‚ä½†æˆ‘ä»¬æœ‰å¿…è¦çŸ¥é“ä»€ä¹ˆæ˜¯ä¼˜ï¼Œä»€ä¹ˆæ˜¯åŠ£ã€‚ </p><p>ä»¥ä¸‹å¥‰ä¸Šæ»¡æ±‰å‘å•ä¸€å¼ ï¼ˆ<strong>ä¸å®šæœŸæ›´æ–°æ’é›·è¿›åº¦</strong>ï¼‰</p><a id="more"></a><h3 id="1-å°½é‡ä½¿ç”¨Collection-isEmpty-æ£€æµ‹ç©º"><a href="#1-å°½é‡ä½¿ç”¨Collection-isEmpty-æ£€æµ‹ç©º" class="headerlink" title="1. å°½é‡ä½¿ç”¨Collection.isEmpty()æ£€æµ‹ç©º"></a>1. å°½é‡ä½¿ç”¨Collection.isEmpty()æ£€æµ‹ç©º</h3><p>ä½¿ç”¨Collection.size()æ¥æ£€æµ‹ç©ºåœ¨é€»è¾‘ä¸Šæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ä½¿ç”¨Collection.isEmpty()ä½¿å¾—ä»£ç æ›´æ˜“è¯»ï¼Œ<br>å¹¶ä¸”å¯ä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚</p><p>ä»»ä½•Collection.isEmpty()å®ç°çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1),ä½†æ˜¯æŸäº›Collection.size()å®ç°çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ã€‚</p><p>åä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(collection.size() == <span class="number">0</span>){}</span><br></pre></td></tr></tbody></table></figure><p>æ­£ä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(collection.isEmpty()){}</span><br></pre></td></tr></tbody></table></figure><p>åˆ¤ç©ºï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CollectionUtils.isEmpty(collection)</span><br><span class="line">CollectionUtils.isNotEmpty(collection)</span><br></pre></td></tr></tbody></table></figure><h3 id="2-é›†åˆåˆå§‹åŒ–å°½é‡æŒ‡å®šå¤§å°"><a href="#2-é›†åˆåˆå§‹åŒ–å°½é‡æŒ‡å®šå¤§å°" class="headerlink" title="2. é›†åˆåˆå§‹åŒ–å°½é‡æŒ‡å®šå¤§å°"></a>2. é›†åˆåˆå§‹åŒ–å°½é‡æŒ‡å®šå¤§å°</h3><p>Java çš„é›†åˆç±»ç”¨èµ·æ¥ååˆ†æ–¹ä¾¿ï¼Œä½†æ˜¯çœ‹æºç å¯çŸ¥ï¼Œé›†åˆä¹Ÿæ˜¯æœ‰å¤§å°é™åˆ¶çš„ã€‚æ¯æ¬¡æ‰©å®¹çš„æ—¶é—´å¤æ‚åº¦å¾ˆæœ‰å¯èƒ½æ˜¯<br>O(n),æ‰€ä»¥å°½é‡æŒ‡å®šå¯é¢„çŸ¥çš„é›†åˆå¤§å°ï¼Œèƒ½å‡å°‘é›†åˆçš„æ‰©å®¹æ¬¡æ•°ã€‚</p><p>åä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[]{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>};</span><br><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i : arr) {</span><br><span class="line">    list.add(i);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æ­£ä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[]{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>};</span><br><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;(arr.length);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i : arr) {</span><br><span class="line">    list.add(i);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="3-Tip-å¯ä»¥ä½¿ç”¨ONDUPLICATE-KEY-UPDATE-å’Œå”¯ä¸€ç´¢å¼•å®ç°SQLæ‰¹é‡æ’å…¥æ›´æ–°æ“ä½œ"><a href="#3-Tip-å¯ä»¥ä½¿ç”¨ONDUPLICATE-KEY-UPDATE-å’Œå”¯ä¸€ç´¢å¼•å®ç°SQLæ‰¹é‡æ’å…¥æ›´æ–°æ“ä½œ" class="headerlink" title="3. [Tip]å¯ä»¥ä½¿ç”¨ONDUPLICATE KEY UPDATE å’Œå”¯ä¸€ç´¢å¼•å®ç°SQLæ‰¹é‡æ’å…¥æ›´æ–°æ“ä½œ"></a>3. [Tip]å¯ä»¥ä½¿ç”¨ONDUPLICATE KEY UPDATE å’Œå”¯ä¸€ç´¢å¼•å®ç°SQLæ‰¹é‡æ’å…¥æ›´æ–°æ“ä½œ</h3><figure class="highlight sql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;insert id="insertOrUpdateCameraInfoByOne" paramerType="com.pojo.AreaInfo"&gt;</span><br><span class="line">    <span class="keyword">insert</span> <span class="keyword">into</span> camera_info( cameraId,zone1Id,zone1Name,zone2Id,zone2Name,zone3Id,zone3Name,zone4Id,zone4Nameï¼‰</span><br><span class="line">    <span class="keyword">VALUES</span>(</span><br><span class="line">        <span class="comment">#{cameraId},#{zone1Id},#{zone1Name}, #{zone2Id},</span></span><br><span class="line">        <span class="comment">#{zone2Name}, #{zone3Id}, #{zone3Name},</span></span><br><span class="line">        <span class="comment">#{zone4Id}, #{zone4Name},)</span></span><br><span class="line">    <span class="keyword">ON</span> <span class="keyword">DUPLICATE</span> <span class="keyword">KEY</span> <span class="keyword">UPDATE</span> </span><br><span class="line">    cameraId = <span class="keyword">VALUES</span>(cameraId),</span><br><span class="line">    zone1Id = <span class="keyword">VALUES</span>(zone1Id),zone1Name = <span class="keyword">VALUES</span>(zone1Name),</span><br><span class="line">    zone2Id = <span class="keyword">VALUES</span>(zone2Id),zone2Name = <span class="keyword">VALUES</span>(zone2Name),</span><br><span class="line">    zone3Id = <span class="keyword">VALUES</span>(zone3Id),zone3Name = <span class="keyword">VALUES</span>(zone3Name),</span><br><span class="line">    zone4Id = <span class="keyword">VALUES</span>(zone4Id),zone4Name = <span class="keyword">VALUES</span>(zone4Name)</span><br><span class="line">&lt;/<span class="keyword">insert</span>&gt;</span><br></pre></td></tr></tbody></table></figure><h3 id="3-ä¸è¦æŠŠé›†åˆå¯¹è±¡ä¼ ç»™è‡ªå·±"><a href="#3-ä¸è¦æŠŠé›†åˆå¯¹è±¡ä¼ ç»™è‡ªå·±" class="headerlink" title="3. ä¸è¦æŠŠé›†åˆå¯¹è±¡ä¼ ç»™è‡ªå·±"></a>3. ä¸è¦æŠŠé›†åˆå¯¹è±¡ä¼ ç»™è‡ªå·±</h3><p>ç”±äºæŸäº›æ–¹æ³•è¦æ±‚å‚æ•°åœ¨æ‰§è¡ŒæœŸé—´ä¿æŒä¸å˜ï¼Œå› æ­¤å°†é›†åˆä¼ é€’ç»™è‡ªèº«å¯èƒ½ä¼šå¯¼è‡´å¼‚å¸¸è¡Œä¸ºã€‚</p><p>åä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">list.add(<span class="string">"Hello"</span>);</span><br><span class="line">list.add(<span class="string">"World"</span>);</span><br><span class="line"><span class="keyword">if</span> (list.containsAll(list)) {}<span class="comment">// æ— æ„ä¹‰,æ€»æ˜¯è¿”å›true</span></span><br><span class="line">list.removeAll(list); <span class="comment">// æ€§èƒ½å·®, ç›´æ¥ä½¿ç”¨clear()</span></span><br></pre></td></tr></tbody></table></figure><h3 id="4-å­—ç¬¦ä¸²æ‹¼æ¥ä½¿ç”¨-StringBuilder"><a href="#4-å­—ç¬¦ä¸²æ‹¼æ¥ä½¿ç”¨-StringBuilder" class="headerlink" title="4. å­—ç¬¦ä¸²æ‹¼æ¥ä½¿ç”¨ StringBuilder"></a>4. å­—ç¬¦ä¸²æ‹¼æ¥ä½¿ç”¨ StringBuilder</h3><p>ä¸€èˆ¬çš„å­—ç¬¦ä¸²æ‹¼æ¥åœ¨ç¼–è¯‘æœŸ java ä¼šè¿›è¡Œä¼˜åŒ–ï¼Œä½†æ˜¯åœ¨å¾ªç¯ä¸­å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œ java ç¼–è¯‘æœŸæ— æ³•åšåˆ°<br>ä¼˜åŒ–ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨ StringBuilder è¿›è¡Œæ›¿æ¢ã€‚</p><p>åä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String s = <span class="string">""</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) {</span><br><span class="line">    s += i;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æ­£ä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">String a = <span class="string">"a"</span>;</span><br><span class="line">String b = <span class="string">"b"</span>;</span><br><span class="line">String c = <span class="string">"c"</span>;</span><br><span class="line">String s = a + b + c; <span class="comment">// æ²¡é—®é¢˜ï¼Œjavaç¼–è¯‘å™¨ä¼šè¿›è¡Œä¼˜åŒ–</span></span><br><span class="line">StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) {</span><br><span class="line">    sb.append(i);  <span class="comment">// å¾ªç¯ä¸­ï¼Œjavaç¼–è¯‘å™¨æ— æ³•è¿›è¡Œä¼˜åŒ–ï¼Œæ‰€ä»¥è¦æ‰‹åŠ¨ä½¿ç”¨StringBuilder</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="5-æšä¸¾çš„å±æ€§å­—æ®µå¿…é¡»æ˜¯ç§æœ‰ä¸å¯å˜"><a href="#5-æšä¸¾çš„å±æ€§å­—æ®µå¿…é¡»æ˜¯ç§æœ‰ä¸å¯å˜" class="headerlink" title="5. æšä¸¾çš„å±æ€§å­—æ®µå¿…é¡»æ˜¯ç§æœ‰ä¸å¯å˜"></a>5. æšä¸¾çš„å±æ€§å­—æ®µå¿…é¡»æ˜¯ç§æœ‰ä¸å¯å˜</h3><p>æšä¸¾é€šå¸¸è¢«å½“åšå¸¸é‡ä½¿ç”¨ï¼Œå¦‚æœæšä¸¾ä¸­å­˜åœ¨å…¬å…±å±æ€§å­—æ®µæˆ–è®¾ç½®å­—æ®µæ–¹æ³•ï¼Œé‚£ä¹ˆè¿™äº›æšä¸¾å¸¸é‡çš„å±æ€§å¾ˆå®¹æ˜“è¢«ä¿®æ”¹ã€‚<br>ç†æƒ³æƒ…å†µä¸‹ï¼Œæšä¸¾ä¸­çš„å±æ€§å­—æ®µæ˜¯ç§æœ‰çš„ï¼Œå¹¶åœ¨ç§æœ‰æ„é€ å‡½æ•°ä¸­èµ‹å€¼ï¼Œæ²¡æœ‰å¯¹åº”çš„ Setter æ–¹æ³•ï¼Œæœ€å¥½åŠ ä¸Š final ä¿®é¥°ç¬¦ã€‚</p><p>åä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> UserStatus {</span><br><span class="line">    DISABLED(<span class="number">0</span>, <span class="string">"ç¦ç”¨"</span>),</span><br><span class="line">    ENABLED(<span class="number">1</span>, <span class="string">"å¯ç”¨"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> value;</span><br><span class="line">    <span class="keyword">private</span> String description;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">UserStatus</span><span class="params">(<span class="keyword">int</span> value, String description)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.value = value;</span><br><span class="line">        <span class="keyword">this</span>.description = description;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDescription</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> description;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDescription</span><span class="params">(String description)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.description = description;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æ­£ä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> UserStatus {</span><br><span class="line">    DISABLED(<span class="number">0</span>, <span class="string">"ç¦ç”¨"</span>),</span><br><span class="line">    ENABLED(<span class="number">1</span>, <span class="string">"å¯ç”¨"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">int</span> value;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String description;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">UserStatus</span><span class="params">(<span class="keyword">int</span> value, String description)</span> </span>{</span><br><span class="line">        <span class="keyword">this</span>.value = value;</span><br><span class="line">        <span class="keyword">this</span>.description = description;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getValue</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDescription</span><span class="params">()</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> description;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="6-å°å¿ƒString-split-String-regex"><a href="#6-å°å¿ƒString-split-String-regex" class="headerlink" title="6. å°å¿ƒString.split(String regex)"></a>6. å°å¿ƒString.split(String regex)</h3><p>å­—ç¬¦ä¸² String çš„ split æ–¹æ³•ï¼Œä¼ å…¥çš„åˆ†éš”å­—ç¬¦ä¸²æ˜¯<strong>æ­£åˆ™è¡¨è¾¾å¼</strong>ï¼éƒ¨åˆ†å…³é”®å­—ï¼ˆæ¯”å¦‚.<a href=""></a>| ç­‰ï¼‰éœ€è¦è½¬ä¹‰</p><p>åä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"a.ab.abc"</span>.split(<span class="string">"."</span>); <span class="comment">// ç»“æœä¸º[]</span></span><br><span class="line"><span class="string">"a|ab|abc"</span>.split(<span class="string">"|"</span>); <span class="comment">// ç»“æœä¸º["a", "|", "a", "b", "|", "a", "b", "c"]</span></span><br></pre></td></tr></tbody></table></figure><p>æ­£ä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"a.ab.abc"</span>.split(<span class="string">"\\."</span>); <span class="comment">// ç»“æœä¸º["a", "ab", "abc"]</span></span><br><span class="line"><span class="string">"a|ab|abc"</span>.split(<span class="string">"\\|"</span>); <span class="comment">// ç»“æœä¸º["a", "ab", "abc"]</span></span><br></pre></td></tr></tbody></table></figure><h3 id="7-Tip-Java-9æ”¹è¿›äº†Stringã€StringBufferã€StringBuilder"><a href="#7-Tip-Java-9æ”¹è¿›äº†Stringã€StringBufferã€StringBuilder" class="headerlink" title="7. [Tip] Java 9æ”¹è¿›äº†Stringã€StringBufferã€StringBuilder"></a>7. [Tip] Java 9æ”¹è¿›äº†Stringã€StringBufferã€StringBuilder</h3><p>Java æä¾›Stringã€StringBufferã€StingBuilder å°è£…å­—ç¬¦ä¸²</p><p>Stringç±»æ˜¯ä¸å¯å˜ç±»ï¼ŒStringå¯¹è±¡è¢«åˆ›å»ºåï¼ŒåŒ…å«åœ¨è¿™ä¸ªå¯¹è±¡çš„å­—ç¬¦åºåˆ—ä¸å¯æ”¹å˜</p><p>StringBuffer å¯¹è±¡ä»£è¡¨ä¸€ä¸ªå­—ç¬¦åºåˆ—å¯å˜çš„å­—ç¬¦ä¸²ï¼Œåˆ›å»ºåé€šè¿‡append()ã€insert()ç­‰æ–¹æ³•æ”¹å˜å­—ç¬¦åºåˆ—ï¼Œæœ€åè°ƒç”¨<br>toString() æ–¹æ³•è½¬æ¢ä¸ºStringå¯¹è±¡</p><p>StringBuilderä¹Ÿä»£è¡¨å¯å˜å­—ç¬¦ä¸²å¯¹è±¡ï¼Œä¸StringBufferåŒºåˆ«åœ¨äºStringBufferçº¿ç¨‹å®‰å…¨ï¼ŒStringBuilderæ²¡æœ‰å®ç°<br>çº¿ç¨‹å®‰å…¨ï¼Œæ‰€ä»¥æ€§èƒ½ç•¥é«˜ã€‚</p><p>Java 9 æ”¹è¿›äº†å­—ç¬¦ä¸²çš„å®ç°ï¼Œä¹‹å‰ä½¿ç”¨char[] ä¿å­˜å­—ç¬¦ï¼ŒJava 9 æ”¹ç”¨Byte[]<strong>æ›´åŠ èŠ‚çœç©ºé—´</strong>ã€‚</p><blockquote><p>å­—ç¬¦ä¸²æ‹¼æ¥åŸç†ï¼šè¿è¡Œæ—¶,ä¸¤ä¸ªå­—ç¬¦ä¸²str1,str2çš„æ‹¼æ¥é¦–å…ˆä¼šè°ƒç”¨ String.valueOf(obj),è¿™ä¸ªObjä¸ºstr1,è€Œ<br>String.valueOf(Obj)ä¸­çš„å®ç°æ˜¯return obj == null ? â€œnullâ€ : obj.toString(), ç„¶åäº§ç”ŸStringBuilder,è°ƒ<br>ç”¨çš„StringBuilder(str1)æ„é€ æ–¹æ³•,æŠŠStringBuilderåˆå§‹åŒ–,é•¿åº¦ä¸ºstr1.length()+16,å¹¶ä¸”è°ƒç”¨append(str1)ï¼æ¥<br>ä¸‹æ¥è°ƒç”¨StringBuilder.append(str2)ï¼ŒæŠŠç¬¬äºŒä¸ªå­—ç¬¦ä¸²æ‹¼æ¥è¿›å»,ç„¶åè°ƒç”¨StringBuilder.toStringè¿”å›ç»“æœï¼</p></blockquote><h3 id="8-éœ€è¦-Map-çš„ä¸»é”®å’Œå–å€¼æ—¶ï¼Œåº”è¯¥è¿­ä»£-entrySet"><a href="#8-éœ€è¦-Map-çš„ä¸»é”®å’Œå–å€¼æ—¶ï¼Œåº”è¯¥è¿­ä»£-entrySet" class="headerlink" title="8. éœ€è¦ Map çš„ä¸»é”®å’Œå–å€¼æ—¶ï¼Œåº”è¯¥è¿­ä»£ entrySet()"></a>8. éœ€è¦ Map çš„ä¸»é”®å’Œå–å€¼æ—¶ï¼Œåº”è¯¥è¿­ä»£ entrySet()</h3><p>å½“å¾ªç¯ä¸­åªéœ€è¦ Map çš„ä¸»é”®æ—¶ï¼Œè¿­ä»£ keySet() æ˜¯æ­£ç¡®çš„ã€‚<br>ä½†æ˜¯ï¼Œå½“éœ€è¦ä¸»é”®å’Œå–å€¼æ—¶ï¼Œè¿­ä»£ entrySet() æ‰æ˜¯æ›´é«˜æ•ˆçš„åšæ³•ï¼Œæ¯”å…ˆè¿­ä»£ keySet() åå†å» get å–å€¼æ€§èƒ½æ›´ä½³ã€‚</p><p>åä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, String&gt; map = ...;</span><br><span class="line"><span class="keyword">for</span> (String key : map.keySet()) {</span><br><span class="line">    String value = map.get(key);</span><br><span class="line">    ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æ­£ä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, String&gt; map = ...;</span><br><span class="line"><span class="keyword">for</span> (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {</span><br><span class="line">    String key = entry.getKey();</span><br><span class="line">    String value = entry.getValue();</span><br><span class="line">    ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="9-é›†åˆåˆå§‹åŒ–å°½é‡æŒ‡å®šå¤§å°"><a href="#9-é›†åˆåˆå§‹åŒ–å°½é‡æŒ‡å®šå¤§å°" class="headerlink" title="9. é›†åˆåˆå§‹åŒ–å°½é‡æŒ‡å®šå¤§å°"></a>9. é›†åˆåˆå§‹åŒ–å°½é‡æŒ‡å®šå¤§å°</h3><p>java çš„é›†åˆç±»ç”¨èµ·æ¥ååˆ†æ–¹ä¾¿ï¼Œä½†æ˜¯çœ‹æºç å¯çŸ¥ï¼Œé›†åˆä¹Ÿæ˜¯æœ‰å¤§å°é™åˆ¶çš„ã€‚<br>æ¯æ¬¡æ‰©å®¹çš„æ—¶é—´å¤æ‚åº¦å¾ˆæœ‰å¯èƒ½æ˜¯ O(n) ï¼Œæ‰€ä»¥å°½é‡æŒ‡å®šå¯é¢„çŸ¥çš„é›†åˆå¤§å°ï¼Œèƒ½å‡å°‘é›†åˆçš„æ‰©å®¹æ¬¡æ•°ã€‚</p><p>åä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[]{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>};</span><br><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i : arr) {</span><br><span class="line">    list.add(i);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æ­£ä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] arr = <span class="keyword">new</span> <span class="keyword">int</span>[]{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>};</span><br><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;(arr.length);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i : arr) {</span><br><span class="line">    list.add(i);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="10-List-çš„éšæœºè®¿é—®"><a href="#10-List-çš„éšæœºè®¿é—®" class="headerlink" title="10. List çš„éšæœºè®¿é—®"></a>10. List çš„éšæœºè®¿é—®</h3><p>å¤§å®¶éƒ½çŸ¥é“æ•°ç»„å’Œé“¾è¡¨çš„åŒºåˆ«ï¼šæ•°ç»„çš„éšæœºè®¿é—®æ•ˆç‡æ›´é«˜ã€‚</p><p>å½“è°ƒç”¨æ–¹æ³•è·å–åˆ° List åï¼Œå¦‚æœæƒ³éšæœºè®¿é—®å…¶ä¸­çš„æ•°æ®ï¼Œå¹¶ä¸çŸ¥é“è¯¥æ•°ç»„å†…éƒ¨å®ç°æ˜¯é“¾è¡¨è¿˜æ˜¯æ•°ç»„ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿ<br>å¯ä»¥åˆ¤æ–­å®ƒæ˜¯å¦å®ç°* RandomAccess æ¥å£ã€‚</p><p>æ­£ä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è°ƒç”¨åˆ«äººçš„æœåŠ¡è·å–åˆ°list</span></span><br><span class="line">List&lt;Integer&gt; list = otherService.getList();</span><br><span class="line"><span class="keyword">if</span> (list <span class="keyword">instanceof</span> RandomAccess) {</span><br><span class="line">    <span class="comment">// å†…éƒ¨æ•°ç»„å®ç°ï¼Œå¯ä»¥éšæœºè®¿é—®</span></span><br><span class="line">    System.out.println(list.get(list.size() - <span class="number">1</span>));</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    <span class="comment">// å†…éƒ¨å¯èƒ½æ˜¯é“¾è¡¨å®ç°ï¼Œéšæœºè®¿é—®æ•ˆç‡ä½</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="10-é¢‘ç¹è°ƒç”¨-Collection-contains-æ–¹æ³•è¯·ä½¿ç”¨-Set"><a href="#10-é¢‘ç¹è°ƒç”¨-Collection-contains-æ–¹æ³•è¯·ä½¿ç”¨-Set" class="headerlink" title="10. é¢‘ç¹è°ƒç”¨ Collection.contains æ–¹æ³•è¯·ä½¿ç”¨ Set"></a>10. é¢‘ç¹è°ƒç”¨ Collection.contains æ–¹æ³•è¯·ä½¿ç”¨ Set</h3><p>åœ¨ java é›†åˆç±»åº“ä¸­ï¼ŒList çš„ contains æ–¹æ³•æ™®éæ—¶é—´å¤æ‚åº¦æ˜¯ O(n)<br>å¦‚æœåœ¨ä»£ç ä¸­éœ€è¦é¢‘ç¹è°ƒç”¨ contains æ–¹æ³•æŸ¥æ‰¾æ•°æ®ï¼Œå¯ä»¥å…ˆå°† list è½¬æ¢æˆ HashSet å®ç°ï¼Œå°† O(n) çš„æ—¶é—´å¤æ‚åº¦é™ä¸º O(1) ã€‚</p><p>åä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;Integer&gt; list = otherService.getList();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= Integer.MAX_VALUE; i++) {</span><br><span class="line">    <span class="comment">// æ—¶é—´å¤æ‚åº¦O(n)</span></span><br><span class="line">    list.contains(i);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æ­£ä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;Integer&gt; list = otherService.getList();</span><br><span class="line">Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet(list);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= Integer.MAX_VALUE; i++) {</span><br><span class="line">    <span class="comment">// æ—¶é—´å¤æ‚åº¦O(1)</span></span><br><span class="line">    set.contains(i);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="11-ä¸è¦ä½¿ç”¨é­”æ³•å€¼"><a href="#11-ä¸è¦ä½¿ç”¨é­”æ³•å€¼" class="headerlink" title="11. ä¸è¦ä½¿ç”¨é­”æ³•å€¼"></a>11. ä¸è¦ä½¿ç”¨é­”æ³•å€¼</h3><p>å½“ä½ ç¼–å†™ä¸€æ®µä»£ç æ—¶ï¼Œä½¿ç”¨é­”æ³•å€¼å¯èƒ½çœ‹èµ·æ¥å¾ˆæ˜ç¡®ï¼Œä½†åœ¨è°ƒè¯•æ—¶å®ƒä»¬å´ä¸æ˜¾å¾—é‚£ä¹ˆæ˜ç¡®äº†ã€‚<br>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆéœ€è¦æŠŠé­”æ³•å€¼å®šä¹‰ä¸ºå¯è¯»å–å¸¸é‡çš„åŸå› ã€‚ä½†æ˜¯ï¼Œ-1ã€0 å’Œ 1ä¸è¢«è§†ä¸ºé­”æ³•å€¼</p><p>åä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++){</span><br><span class="line">    ...</span><br><span class="line">}</span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">100</span>) {</span><br><span class="line">    ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æ­£ä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> MAX_COUNT = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; MAX_COUNT; i++){</span><br><span class="line">    ...</span><br><span class="line">}</span><br><span class="line"><span class="keyword">if</span> (count == MAX_COUNT) {</span><br><span class="line">    ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="12-å»ºè®®ä½¿ç”¨-try-with-resources-è¯­å¥"><a href="#12-å»ºè®®ä½¿ç”¨-try-with-resources-è¯­å¥" class="headerlink" title="12. å»ºè®®ä½¿ç”¨ try-with-resources è¯­å¥"></a>12. å»ºè®®ä½¿ç”¨ try-with-resources è¯­å¥</h3><p>Java 7 ä¸­å¼•å…¥äº† try-with-resources è¯­å¥ï¼Œè¯¥è¯­å¥èƒ½ä¿è¯å°†ç›¸å…³èµ„æºå…³é—­ï¼Œä¼˜äºåŸæ¥çš„ try-catch-finally è¯­å¥ï¼Œå¹¶ä¸”ä½¿ç¨‹åºä»£ç æ›´å®‰å…¨æ›´ç®€æ´ã€‚</p><p>åä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">handle</span><span class="params">(String fileName)</span> </span>{</span><br><span class="line">    BufferedReader reader = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> {</span><br><span class="line">        String line;</span><br><span class="line">        reader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(fileName));</span><br><span class="line">        <span class="keyword">while</span> ((line = reader.readLine()) != <span class="keyword">null</span>) {</span><br><span class="line">            ...</span><br><span class="line">        }</span><br><span class="line">    } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">        ...</span><br><span class="line">    } <span class="keyword">finally</span> {</span><br><span class="line">        <span class="keyword">if</span> (reader != <span class="keyword">null</span>) {</span><br><span class="line">            <span class="keyword">try</span> {</span><br><span class="line">                reader.close();</span><br><span class="line">            } <span class="keyword">catch</span> (IOException e) {</span><br><span class="line">                ...</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æ­£ä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">handle</span><span class="params">(String fileName)</span> </span>{</span><br><span class="line">    <span class="keyword">try</span> (BufferedReader reader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(fileName))) {</span><br><span class="line">        String line;</span><br><span class="line">        <span class="keyword">while</span> ((line = reader.readLine()) != <span class="keyword">null</span>) {</span><br><span class="line">            ...</span><br><span class="line">        }</span><br><span class="line">    } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">        ...</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>Ref: <a href="https://www.cnblogs.com/yueshutong/p/10725477.html" target="_blank" rel="noopener">https://www.cnblogs.com/yueshutong/p/10725477.html</a></p><h3 id="12-å»ºè®®åˆ é™¤æœªä½¿ç”¨çš„ç§æœ‰æ–¹æ³•å’Œå­—æ®µ"><a href="#12-å»ºè®®åˆ é™¤æœªä½¿ç”¨çš„ç§æœ‰æ–¹æ³•å’Œå­—æ®µ" class="headerlink" title="12. å»ºè®®åˆ é™¤æœªä½¿ç”¨çš„ç§æœ‰æ–¹æ³•å’Œå­—æ®µ"></a>12. å»ºè®®åˆ é™¤æœªä½¿ç”¨çš„ç§æœ‰æ–¹æ³•å’Œå­—æ®µ</h3><p>åˆ é™¤æœªä½¿ç”¨çš„ç§æœ‰æ–¹æ³•å’Œå­—æ®µï¼Œä½¿ä»£ç æ›´ç®€æ´æ›´æ˜“ç»´æŠ¤ã€‚è‹¥æœ‰éœ€è¦å†ä½¿ç”¨ï¼Œå¯ä»¥ä»å†å²æäº¤ä¸­æ‰¾å›ã€‚</p><p>åä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DoubleDemo1</span> </span>{</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> unusedField = <span class="number">100</span>;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">unusedMethod</span><span class="params">()</span> </span>{</span><br><span class="line">        ...</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æ­£ä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DoubleDemo1</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><blockquote><p>ä»£ç è†¨èƒ€æ˜¯ç¨å¾®æœ‰ç‚¹è§„æ¨¡çš„é¡¹ç›®éƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼Œåœ¨ã€Šäººæœˆç¥è¯ã€‹ä¸­ä¹Ÿæœ‰æåŠã€‚æœ‰è§„æ¨¡çš„å·¥ç¨‹é¡¹ç›®éƒ½æ˜¯å›¢é˜Ÿçš„äº§ç‰©ï¼Œæ—¢ç„¶æ˜¯å›¢é˜Ÿçš„äº§ç‰©ï¼Œ<br>é‚£ä¹ˆä¸å¯èƒ½ä¸å­˜åœ¨é‡å¤çš„ä»£ç ï¼Œè€Œè¿™ç§é‡å¤çš„ä»£ç éšç€å›¢é˜Ÿäººå‘˜çš„å¢å¤šï¼Œä»£ç è§„æ¨¡çš„å¢åŠ ä¼šæ›´åŠ çš„çªå‡ºã€‚è¿™æ˜¯ä¸€ä¸ªå¿…ç„¶å­˜åœ¨çš„é—®é¢˜ï¼Œä¸<br>ç®¡æ˜¯ä½ çš„å›¢é˜Ÿæˆå‘˜å¤šä¹ˆçš„ä¼˜ç§€ï¼Œè§„æ¨¡çš„å·¥ç¨‹é¡¹ç›®å¿…ç„¶ä¼šå­˜åœ¨ï¼Œåªä¸è¿‡æ˜¯ä¼˜ç§€çš„å›¢é˜Ÿä½¿å¾—è¿™ç§é‡å¤å’Œæ··ä¹±çš„å¢é•¿é€Ÿåº¦å˜å¾—å°äº†è€Œå·²ã€‚</p></blockquote><h3 id="13-å·¥å…·ç±»åº”è¯¥å±è”½æ„é€ å‡½æ•°"><a href="#13-å·¥å…·ç±»åº”è¯¥å±è”½æ„é€ å‡½æ•°" class="headerlink" title="13. å·¥å…·ç±»åº”è¯¥å±è”½æ„é€ å‡½æ•°"></a>13. å·¥å…·ç±»åº”è¯¥å±è”½æ„é€ å‡½æ•°</h3><p>å·¥å…·ç±»æ˜¯ä¸€å †é™æ€å­—æ®µå’Œå‡½æ•°çš„é›†åˆï¼Œä¸åº”è¯¥è¢«å®ä¾‹åŒ–ã€‚ä½†æ˜¯ï¼ŒJava ä¸ºæ¯ä¸ªæ²¡æœ‰æ˜ç¡®å®šä¹‰æ„é€ å‡½æ•°çš„ç±»æ·»åŠ äº†ä¸€ä¸ªéšå¼å…¬æœ‰æ„é€ å‡½æ•°ã€‚<br>æ‰€ä»¥ï¼Œä¸ºäº†é¿å… java â€œå°ç™½â€ä½¿ç”¨æœ‰è¯¯ï¼Œåº”è¯¥æ˜¾å¼å®šä¹‰ç§æœ‰æ„é€ å‡½æ•°æ¥å±è”½è¿™ä¸ªéšå¼å…¬æœ‰æ„é€ å‡½æ•°ã€‚</p><p>åä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MathUtils</span> </span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">double</span> PI = <span class="number">3.1415926</span>D;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æ­£ä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MathUtils</span> </span>{</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">double</span> PI = <span class="number">3.1415926</span>D;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">MathUtils</span><span class="params">()</span> </span>{}</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>{</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="14-åˆ é™¤å¤šä½™çš„å¼‚å¸¸æ•è·å¹¶æŠ›å‡º"><a href="#14-åˆ é™¤å¤šä½™çš„å¼‚å¸¸æ•è·å¹¶æŠ›å‡º" class="headerlink" title="14. åˆ é™¤å¤šä½™çš„å¼‚å¸¸æ•è·å¹¶æŠ›å‡º"></a>14. åˆ é™¤å¤šä½™çš„å¼‚å¸¸æ•è·å¹¶æŠ›å‡º</h3><p>ç”¨ catch è¯­å¥æ•è·å¼‚å¸¸åï¼Œä»€ä¹ˆä¹Ÿä¸è¿›è¡Œå¤„ç†ï¼Œå°±è®©å¼‚å¸¸é‡æ–°æŠ›å‡ºï¼Œè¿™è·Ÿä¸æ•è·å¼‚å¸¸çš„æ•ˆæœä¸€æ ·ï¼Œå¯ä»¥åˆ é™¤è¿™å—ä»£ç æˆ–æ·»åŠ åˆ«çš„å¤„ç†ã€‚</p><p>åä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">readFile</span><span class="params">(String fileName)</span> <span class="keyword">throws</span> IOException </span>{</span><br><span class="line">    <span class="keyword">try</span> (BufferedReader reader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(fileName))) {</span><br><span class="line">        String line;</span><br><span class="line">        StringBuilder builder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">while</span> ((line = reader.readLine()) != <span class="keyword">null</span>) {</span><br><span class="line">            builder.append(line);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> builder.toString();</span><br><span class="line">    } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">        <span class="keyword">throw</span> e;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>æ­£ä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">readFile</span><span class="params">(String fileName)</span> <span class="keyword">throws</span> IOException </span>{</span><br><span class="line">    <span class="keyword">try</span> (BufferedReader reader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(fileName))) {</span><br><span class="line">        String line;</span><br><span class="line">        StringBuilder builder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">while</span> ((line = reader.readLine()) != <span class="keyword">null</span>) {</span><br><span class="line">            builder.append(line);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> builder.toString();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><h3 id="15-ä½¿ç”¨String-valueOf-value-ä»£æ›¿â€â€-value"><a href="#15-ä½¿ç”¨String-valueOf-value-ä»£æ›¿â€â€-value" class="headerlink" title="15. ä½¿ç”¨String.valueOf(value)ä»£æ›¿â€â€+value"></a>15. ä½¿ç”¨String.valueOf(value)ä»£æ›¿â€â€+value</h3><p>å½“è¦æŠŠå…¶å®ƒå¯¹è±¡æˆ–ç±»å‹è½¬åŒ–ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œä½¿ç”¨ String.valueOf(value) æ¯”â€â€+value çš„æ•ˆç‡æ›´é«˜ã€‚</p><p>åä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">String s = <span class="string">""</span> + i;</span><br></pre></td></tr></tbody></table></figure><p>æ­£ä¾‹ï¼š</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line">String s = String.valueOf(i);</span><br></pre></td></tr></tbody></table></figure><p>Best Ref: <a href="https://mp.weixin.qq.com/s/1aAwroGRSGWrzgE6XpPx7Q" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/1aAwroGRSGWrzgE6XpPx7Q</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> Coding </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WEBæ¶æ„æ¼”è¿›ä¹‹è·¯</title>
      <link href="/2019/11/13/WEB%E6%9E%B6%E6%9E%84%E6%BC%94%E8%BF%9B%E4%B9%8B%E8%B7%AF/"/>
      <url>/2019/11/13/WEB%E6%9E%B6%E6%9E%84%E6%BC%94%E8%BF%9B%E4%B9%8B%E8%B7%AF/</url>
      
        <content type="html"><![CDATA[<h3 id=""><a href="#" class="headerlink" title=""></a></h3><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> æ¶æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WEBåº”ç”¨æ¶æ„ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœåŠ¡è°ƒç”¨å¹‚ç­‰æ€§å®è·µ</title>
      <link href="/2019/11/13/%E6%9C%8D%E5%8A%A1%E8%B0%83%E7%94%A8%E5%B9%82%E7%AD%89%E6%80%A7%E5%AE%9E%E8%B7%B5/"/>
      <url>/2019/11/13/%E6%9C%8D%E5%8A%A1%E8%B0%83%E7%94%A8%E5%B9%82%E7%AD%89%E6%80%A7%E5%AE%9E%E8%B7%B5/</url>
      
        <content type="html"><![CDATA[<a id="more"></a><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> ç ”å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¹‚ç­‰æ€§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€æ–‡é“å°½è®¾è®¡æ¨¡å¼</title>
      <link href="/2019/11/12/%E4%B8%80%E6%96%87%E9%81%93%E5%B0%BD%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
      <url>/2019/11/12/%E4%B8%80%E6%96%87%E9%81%93%E5%B0%BD%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<h3 id="å­¦ä¹ è®¾è®¡æ¨¡å¼ä»å¿˜è®°æ¨¡å¼å¼€å§‹"><a href="#å­¦ä¹ è®¾è®¡æ¨¡å¼ä»å¿˜è®°æ¨¡å¼å¼€å§‹" class="headerlink" title="å­¦ä¹ è®¾è®¡æ¨¡å¼ä»å¿˜è®°æ¨¡å¼å¼€å§‹"></a>å­¦ä¹ è®¾è®¡æ¨¡å¼ä»å¿˜è®°æ¨¡å¼å¼€å§‹</h3><p>ç®€å•è®²ï¼Œè®¾è®¡æ¨¡å¼å°±æ˜¯ä¸€äº›æŠ€æœ¯å¤§å¸ˆæ€»ç»“çš„ä¸€å¥—å†™ä»£ç å¥—è·¯ï¼Œä¸æƒ³å›å†œæ‘ï¼Œå­¦ä¼šå¥—è·¯æ·±ã€‚</p><a id="more"></a><p>è®¾è®¡æ¨¡å¼åˆ†ä¸ºä¸‰ç±»ï¼šåˆ›å»ºå‹ã€ç»“æ„å‹ã€è¡Œä¸ºå‹</p><ul><li>åˆ›å»ºå‹ï¼šåˆ›å»ºå¯¹è±¡ä½¿ç”¨</li><li>ç»“æ„å‹ï¼šç»„ç»‡ä¸åŒçš„å°å¯¹è±¡ï¼Œå½¢æˆæ›´å¤æ‚ç»“æ„çš„å¤§å¯¹è±¡</li><li>è¡Œä¸ºå‹ï¼šåè°ƒä¸åŒå¯¹è±¡çš„è¿è¡Œæµç¨‹</li></ul><p>ä½¿ç”¨è®¾è®¡æ¨¡å¼çš„å¿…è¦æ€§ï¼Ÿ</p><p>é¢å‘å¯¹è±¡çš„ä¸ƒå¤§åŸåˆ™æ˜¯è¯„ä»·ä¸€ä¸ªè®¾è®¡æ¨¡å¼å¥½åçš„æ ‡å‡†ã€‚<br>1.å¼€é—­åŸåˆ™<br>2.é‡Œæ°æ›¿æ¢åŸåˆ™<br>3.ä¾èµ–å€’ç½®åŸåˆ™<br>4.å•ä¸€èŒè´£åŸåˆ™<br>5.æ¥å£éš”ç¦»åŸåˆ™<br>6.è¿ªç±³ç‰¹åŸåˆ™<br>7.ç»„åˆèšåˆå¤ç”¨åŸåˆ™</p><p>ç‰¹åˆ«æœ‰èŠ‚æ“çš„è¯´æ˜ä¸€ç‚¹ï¼šè®¾è®¡æ¨¡å¼ä¸èƒ½å¼ºä¸Š<span class="github-emoji" style="color: transparent;background:no-repeat url(https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8) center/contain" data-src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8">ğŸ˜„</span>!</p><h3 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h3><p>ç®€å•ç†è§£ï¼šåˆ›å»ºå‹ï¼Œæ§åˆ¶åˆ›å»ºå¯¹è±¡æ•°é‡ï¼Œä¸€æ¬¡åªèƒ½åˆ›å»ºä¸€ä¸ªå®ä¾‹</p><p>å¿…è¦æ€§ï¼šç‰¹å®šåœºæ™¯ä¸‹ï¼Œè‹¥ä¸é€‚ç”¨å•ä¾‹ï¼Œä¼šå¯¼è‡´åŒä¸€æ—¶åˆ»çŠ¶æ€ä¸åŒæ­¥ï¼›æœ‰åˆ©äºèŠ‚çº¦ç³»ç»Ÿèµ„æºï¼›å…¨å±€æ•°æ®å…±äº«ç­‰</p><p>åˆ†ç±»ï¼š</p><ol><li>é¥¿æ±‰å¼å•ä¾‹: ç±»ä¸€åˆå§‹åŒ–ï¼Œè¯¥ç±»çš„å¯¹è±¡å°±ç«‹åˆ»ä¼šè¢«å®ä¾‹åŒ–.</li></ol><p>ç®€å•å®ç°ï¼š<br>    - private ä¿®é¥°æ„é€ æ–¹æ³•<br>    - static ä¿®é¥° instanceï¼Œç±»åŠ è½½é˜¶æ®µåˆ›å»ºå¯¹è±¡ï¼Œåˆ©ç”¨åªèƒ½è¢«åŠ è½½ä¸€æ¬¡ç‰¹ç‚¹ä¿è¯å•ä¾‹</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HungrySingleton</span> </span>{</span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="title">HungrySingleton</span><span class="params">()</span> </span>{} â¶</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> HungrySingleton instance = <span class="keyword">new</span> HungrySingleton();â·</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> HungrySingleton <span class="title">getInstance</span><span class="params">()</span> </span>{</span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>é—®é¢˜ï¼šå¦‚æœåˆ›å»ºå¯¹è±¡è€—æ—¶è€—èµ„æºï¼Œä¼šé€ æˆæ€§èƒ½æŸè€—</p><ol start="2"><li>æ‡’æ±‰å¼å•ä¾‹: ç±»ä¸€åˆå§‹åŒ–ï¼Œè¯¥ç±»çš„å¯¹è±¡å°±ç«‹åˆ»ä¼šè¢«å®ä¾‹åŒ–</li></ol><p>ç®€å•å®ç°ï¼š<br>    - ç±»å˜é‡åˆå§‹nullï¼Œç±»åŠ è½½ä¸ä¼šç«‹åˆ»åˆ›å»ºå¯¹è±¡<br>    - ç§æœ‰åŒ–æ„é€ æ–¹æ³•<br>    - åˆ¤æ–­æ˜¯å¦å·²åˆ›å»ºäº†å¯¹è±¡ï¼Œæœ‰åˆ›å»ºä¸å†åˆ›å»ºï¼Œæ²¡æœ‰å†åˆ›å»ºï¼Œå®ç°äº†å»¶è¿ŸåŠ è½½ä¹Ÿä¿è¯äº†å•ä¾‹</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LazySingleton</span> </span>{</span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="title">LazySingleton</span><span class="params">()</span> </span>{}</span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> LazySingleton instance = <span class="keyword">null</span>;â¶</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> LazySingleton <span class="title">getInstance</span><span class="params">()</span> </span>{â·</span><br><span class="line">    <span class="keyword">if</span>(instance == <span class="keyword">null</span>){ â¸</span><br><span class="line">      instance = <span class="keyword">new</span> LazySingleton();</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>é—®é¢˜ï¼šå¤šçº¿ç¨‹ä¸‹ï¼Œå•ä¾‹ä¼šè¢«ç ´å</p><p>2-1. ä½¿ç”¨åŠ é”çš„æ–¹å¼é¿å…å¤šçº¿ç¨‹ä¸‹ï¼Œå•ä¾‹ç»“æ„è¢«ç ´å</p><p>ç®€å•å®ç°ï¼š<br>    - volatile ä¿è¯å¤šçº¿ç¨‹ä¸‹çš„å†…å­˜å¯è§æ€§<br>    - synchronized åŒæ­¥é”ä¿è¯åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹è¿›å…¥getInstance()æ–¹æ³•</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LazySingleton</span> </span>{</span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="title">LazySingleton</span><span class="params">()</span> </span>{}</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> LazySingleton instance = <span class="keyword">null</span>;â¶</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> LazySingleton <span class="title">getInstance</span><span class="params">()</span> </span>{ â·</span><br><span class="line">    <span class="keyword">if</span>(instance == <span class="keyword">null</span>){</span><br><span class="line">      instance = <span class="keyword">new</span> LazySingleton();</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> instance;</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>é—®é¢˜ï¼šåŒæ­¥é”ä¼šå¯¼è‡´çº¿ç¨‹é˜»å¡ï¼Œæ€§èƒ½ä¸‹é™</p><p>2-2. ä¿®æ”¹ä¸ºåŒé‡æ£€æµ‹é”</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LazySingleton</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">LazySingleton</span><span class="params">()</span> </span>{} </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">volatile</span> LazySingleton instance = <span class="keyword">null</span>; â·</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> LazySingleton <span class="title">getInstance</span><span class="params">()</span></span>{ â¶</span><br><span class="line">      <span class="keyword">if</span>(instance == <span class="keyword">null</span>){ â¸</span><br><span class="line">        <span class="keyword">synchronized</span> (LazySingleton.class) { âº</span><br><span class="line">          <span class="keyword">if</span>(instance == <span class="keyword">null</span>)â¹</span><br><span class="line">          instance = <span class="keyword">new</span> LazySingleton();â»</span><br><span class="line">        }</span><br><span class="line">      }</span><br><span class="line">      <span class="keyword">return</span> instance;</span><br><span class="line">    }</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure><ol start="3"><li>é™æ€å†…éƒ¨ç±»å®ç°å•ä¾‹</li></ol><blockquote><p>æ ¹æ®ç±»åŠ è½½æœºåˆ¶ï¼Œå¤–éƒ¨ç±»çš„åˆå§‹åŒ–ä¸ä¼šå¯¼è‡´é™æ€å†…éƒ¨ç±»çš„åˆå§‹åŒ–</p></blockquote><p>ç®€å•å®ç°ï¼š<br>    - é™æ€å†…éƒ¨ç±»åˆ›å»ºå®ä¾‹ï¼Œå®ç°å»¶è¿ŸåŠ è½½<br>    - StaticInnerSingletonInstance.instanceå¯¹instanceå¼•ç”¨åˆ›å»ºå¯¹è±¡ä¸€æ¬¡ï¼Œ<br>      ç”±äºstatic ä¿®é¥°åªä¼šåœ¨ç±»æ¥åœ¨åˆå§‹åŒ–ä¸€æ¬¡ï¼Œå¤©ç„¶ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚æ¯”å‡ ç§æ–¹å¼ä¼˜ã€‚</p><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticInnerSingleton</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">StaticInnerSingleton</span><span class="params">()</span> </span>{}</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticInnerSingletonInstance</span> </span>{ â¶</span><br><span class="line">      <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> StaticInnerSingleton instance = <span class="keyword">new</span> StaticInnerSingleton();</span><br><span class="line">    }</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> StaticInnerSingleton <span class="title">getInstance</span><span class="params">()</span> </span>{ â·</span><br><span class="line">      <span class="keyword">return</span> StaticInnerSingletonInstance.instance;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><ol start="4"><li>æšä¸¾å®ç°</li></ol><blockquote><p>Javaä¸­çš„æšä¸¾ç±»å‹æœ¬èº«å°±å¤©ç„¶å•ä¾‹</p></blockquote><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> EnumSingletonInstance{</span><br><span class="line">   INSTANCE;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> EnumSingletonInstance <span class="title">getInstance</span><span class="params">()</span></span>{</span><br><span class="line">   <span class="keyword">return</span> INSTANCE;</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><p>é—®é¢˜ï¼šæ— æ³•å»¶è¿ŸåŠ è½½ï¼Œæšä¸¾ç±»åŠ è½½è‡ªç„¶åˆå§‹åŒ–å®ä¾‹</p><ol start="5"><li>ç ´è§£ï¼Ÿï¼å•ä¾‹</li></ol><blockquote><p>å®ç°æ–¹å¼ï¼šåå°„ã€ååºåˆ—åŒ–</p></blockquote><p>Best Ref: <a href="https://mp.weixin.qq.com/s/wb_INuq8cQ0p8hGtIYf0uQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/wb_INuq8cQ0p8hGtIYf0uQ</a></p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> è½¯ä»¶å·¥ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mysqlä¸­æ³¨æ„ä½¿ç”¨åˆé€‚çš„å­—æ®µå’Œå­—æ®µé•¿åº¦</title>
      <link href="/2019/08/23/Mysql%E4%B8%AD%E6%B3%A8%E6%84%8F%E4%BD%BF%E7%94%A8%E5%90%88%E9%80%82%E7%9A%84%E5%AD%97%E6%AE%B5%E5%92%8C%E5%AD%97%E6%AE%B5%E9%95%BF%E5%BA%A6/"/>
      <url>/2019/08/23/Mysql%E4%B8%AD%E6%B3%A8%E6%84%8F%E4%BD%BF%E7%94%A8%E5%90%88%E9%80%82%E7%9A%84%E5%AD%97%E6%AE%B5%E5%92%8C%E5%AD%97%E6%AE%B5%E9%95%BF%E5%BA%A6/</url>
      
        <content type="html"><![CDATA[<h3 id="è®°å½•ä¸­çš„å¸¸ç”¨ä¿¡æ¯"><a href="#è®°å½•ä¸­çš„å¸¸ç”¨ä¿¡æ¯" class="headerlink" title="è®°å½•ä¸­çš„å¸¸ç”¨ä¿¡æ¯"></a>è®°å½•ä¸­çš„å¸¸ç”¨ä¿¡æ¯</h3><p>ä¸‹é¢æ˜¯mysqlåˆ›å»ºä¸€æ¡è®°å½•æ—¶çš„å¸¸ç”¨é‡è¦ä¿¡æ¯ï¼Œä¸€èˆ¬åŒ…å«ï¼šåç§°ã€ç±»å‹ã€é•¿åº¦ã€å±æ€§ã€éç©ºã€Zeroå¡«å……ã€è‡ªå¢ç­‰<br>ä¿¡æ¯éœ€è¦è¿›è¡Œé…ç½®ã€‚</p><a id="more"></a><p><img src="http://pztbc1npk.bkt.clouddn.com/mysql2.png" alt="upload successful"></p><h3 id="å­—æ®µç±»å‹é€‰æ‹©"><a href="#å­—æ®µç±»å‹é€‰æ‹©" class="headerlink" title="å­—æ®µç±»å‹é€‰æ‹©"></a>å­—æ®µç±»å‹é€‰æ‹©</h3><p><img src="http://pztbc1npk.bkt.clouddn.com/mysql1.png" alt="upload successful"></p><p>å­—æ®µç±»å‹æœ‰å¾ˆå¤šç§ï¼Œè€Œå¸¸ç”¨çš„å°±é‚£å‡ ç§ï¼š</p><p>æ•´æ•°</p><p>1.è¿™é‡Œéœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯æ•´æ•°å‹çš„æ•°å€¼ç±»å‹å·²ç»é™åˆ¶äº†å–å€¼èŒƒå›´ï¼Œåˆ†ä¸ºæœ‰ç¬¦å·å’Œæ— ç¬¦å·å‹ï¼Œè€ŒLengthï¼ˆMï¼‰å€¼å¹¶ä¸ä»£è¡¨å¯ä»¥å­˜å‚¨çš„æ•°å€¼é•¿åº¦ï¼Œå®ƒä»£è¡¨çš„æ˜¯æ•°æ®åœ¨æ˜¾ç¤ºæ—¶æ˜¾ç¤ºçš„æœ€å°é•¿åº¦</p><p>2.å½“å­˜å‚¨çš„å­—ç¬¦é•¿åº¦è¶…è¿‡Må€¼æ—¶ï¼Œæ²¡æœ‰ä»»ä½•å½±å“ï¼Œåªè¦ä¸è¶…è¿‡æ•°å€¼ç±»å‹é™åˆ¶èŒƒå›´</p><p>3.å½“å­˜å‚¨çš„å­—ç¬¦é•¿åº¦å°äºMå€¼æ—¶ï¼Œåªè¦åœ¨è®¾ç½®äº†ZeroFillï¼Œæ‰æœ‰æ•ˆæœã€‚</p><p>ä¸¾ä¸ªæ —å­ï¼šå¦‚æœä½ è®¾ç½®int(11)ï¼Œé‚£ä¹ˆæœ‰ä¸ªå­—æ®µå€¼æ˜¯123ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼åœ¨æ˜¾ç¤ºå®½åº¦ä¸Šæ˜¯3ä½ï¼Œè€Œè®¾è®¡çš„æ˜¯æ˜¾ç¤ºçš„æ˜¯11ä½ï¼Œæ‰€ä»¥è¿™æ—¶å€™ï¼Œä½ å¦‚æœåœ¨å­—æ®µè®¾è®¡çš„æ—¶å€™ï¼Œé€‰æ‹©zerofillå°±å¯ä»¥å‘ç°ï¼Œ123å˜æˆäº†00000000123ï¼Œä¹Ÿå°±æ˜¯å‰©ä¸‹çš„8ä½ç”¨0è¡¥è¶³äº†ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬åœ¨è®¾è®¡mysqlæ•°æ®åº“æ—¶ï¼Œå»ºè¡¨æ—¶ï¼Œmysqlä¼šè‡ªåŠ¨åˆ†é…é•¿åº¦ï¼šint(11)ã€tinyint(4)ã€smallint(6)ã€mediumint(9)ã€bigint(20)ã€‚</p><blockquote><p>æ€»ç»“ï¼šå°±ç”¨è¿™äº›é»˜è®¤çš„æ˜¾ç¤ºé•¿åº¦å°±å¯ä»¥äº†ã€‚ä¸ç”¨å†å»è‡ªå·±å¡«é•¿åº¦ã€‚æ¯”å¦‚æä¸ªint(10)ã€tinyint(1)ä¹‹ç±»çš„ï¼ŒåŸºæœ¬æ²¡ç”¨ã€‚è€Œä¸”å¯¼è‡´è¡¨çš„å­—æ®µç±»å‹å¤šæ ·åŒ–ã€‚</p></blockquote><p>å­—ç¬¦ç±»å‹</p><p>char(m)ä¸ºå›ºå®šé•¿åº¦</p><p>1.må–å€¼ä¸º0ï½255ï¼Œå½“ä¿å­˜charå€¼æ—¶ï¼Œåœ¨å®ƒä»¬çš„å³è¾¹å¡«å……ç©ºæ ¼ä»¥è¾¾åˆ°æŒ‡å®šçš„é•¿åº¦ã€‚</p><p>2.å½“æ£€ç´¢åˆ°charå€¼æ—¶ï¼Œå°¾éƒ¨çš„ç©ºæ ¼è¢«åˆ é™¤æ‰ã€‚</p><p>3.åœ¨å­˜å‚¨æˆ–æ£€ç´¢è¿‡ç¨‹ä¸­ä¸è¿›è¡Œå¤§å°å†™è½¬æ¢ã€‚</p><p>charå­—æ®µä¸Šçš„ç´¢å¼•æ•ˆç‡çº§é«˜ï¼Œæ¯”å¦‚å®šä¹‰char(10)ï¼Œé‚£ä¹ˆä¸è®ºä½ å­˜å‚¨çš„æ•°æ®æ˜¯å¦è¾¾åˆ°äº†10ä¸ªå­—èŠ‚ï¼Œéƒ½è¦å å»10ä¸ªå­—èŠ‚çš„ç©ºé—´,ä¸è¶³çš„è‡ªåŠ¨ç”¨ç©ºæ ¼å¡«å……ã€‚</p><p>varchar(m)ä¸ºå¯å˜é•¿åº¦ç±»å‹</p><p>1.må–å€¼ä¸º0~65535ä¹‹é—´ï¼Œä¿å­˜æ—¶ä¸è¿›è¡Œå¡«å……ã€‚</p><p>2.varcharå€¼ä¿å­˜æ—¶åªä¿å­˜éœ€è¦çš„å­—ç¬¦æ•°ï¼Œå¦åŠ ä¸€ä¸ªå­—èŠ‚æ¥è®°å½•é•¿åº¦ï¼ˆLength+1)ã€‚</p><p>3.å½“å€¼ä¿å­˜å’Œæ£€ç´¢æ—¶å°¾éƒ¨çš„ç©ºæ ¼ä»ä¿ç•™ï¼Œç¬¦åˆæ ‡å‡†SQLã€‚</p><p>varcharå­˜å‚¨å˜é•¿æ•°æ®ï¼Œä½†å­˜å‚¨æ•ˆç‡æ²¡æœ‰charé«˜ã€‚å¦‚æœä¸€ä¸ªå­—æ®µå¯èƒ½çš„å€¼æ˜¯ä¸å›ºå®šé•¿åº¦çš„ï¼Œæˆ‘ä»¬åªçŸ¥é“å®ƒä¸å¯èƒ½è¶…è¿‡10ä¸ªå­—ç¬¦ï¼ŒæŠŠå®ƒå®šä¹‰ä¸ºvarchar(10)æ˜¯æœ€åˆç®—çš„ã€‚ ä»ç©ºé—´ä¸Šè€ƒè™‘ï¼Œç”¨varcharåˆé€‚ï¼›ä»æ•ˆç‡ä¸Šè€ƒè™‘ï¼Œç”¨charåˆé€‚ï¼Œå…³é”®æ˜¯æ ¹æ®å®é™…æƒ…å†µæ‰¾åˆ°æƒè¡¡ç‚¹ï¼Œæ‰€æœ‰å½“éœ€è¦å¤§é‡æŸ¥è¯¢éœ€æ±‚çš„æ—¶å€™ï¼Œç”¨charã€‚å½“å¯¹äºä¿å­˜æ•°æ®é‡è¿‡å¤§çš„éœ€æ±‚æ—¶ï¼Œä¸ºäº†èŠ‚çœå‚¨å­˜ç©ºé—´ç”¨varcharã€‚</p><p>TEXTå¤§æ–‡æœ¬</p><p>1.æœ€å¤§é•¿åº¦ä¸º65,535(2çš„16æ¬¡æ–¹â€“1)å­—ç¬¦çš„textåˆ—ã€‚</p><p>2.ä¸»è¦æ˜¯ç”¨æ¥å­˜æ”¾éäºŒè¿›åˆ¶çš„æ–‡æœ¬ï¼Œå¦‚è®ºå›å¸–å­,é¢˜ç›®ï¼Œæˆ–è€…ç™¾åº¦çŸ¥é“çš„é—®é¢˜å’Œå›ç­”ä¹‹ç±»ã€‚</p><p>3.textåˆ—ä¸èƒ½æœ‰é»˜è®¤å€¼ï¼Œå­˜å‚¨æˆ–æ£€ç´¢è¿‡ç¨‹ä¸­ï¼Œä¸å­˜åœ¨å¤§å°å†™è½¬æ¢ï¼Œåé¢å¦‚æœæŒ‡å®šé•¿åº¦ï¼Œä¸ä¼šæŠ¥é”™è¯¯ï¼Œä½†æ˜¯è¿™ä¸ªé•¿åº¦æ˜¯ä¸èµ·ä½œç”¨çš„ï¼Œæ„æ€å°±æ˜¯ä½ æ’å…¥æ•°æ®çš„æ—¶å€™ï¼Œè¶…è¿‡ä½ æŒ‡å®šçš„é•¿åº¦è¿˜æ˜¯å¯ä»¥æ­£å¸¸æ’å…¥ã€‚</p><blockquote><p>æ€»ç»“ï¼š1.é•¿åº¦çš„åŒºåˆ«ï¼ŒcharèŒƒå›´æ˜¯0ï½255ï¼Œvarcharæœ€é•¿æ˜¯64kï¼Œå¦‚æœé‡åˆ°äº†å¤§æ–‡æœ¬ï¼Œè€ƒè™‘ä½¿ç”¨textï¼Œæœ€å¤§èƒ½åˆ°4Gã€‚<br>  2.æ•ˆç‡æ¥è¯´åŸºæœ¬æ˜¯char&gt;varchar&gt;textã€‚<br>  3.charå’Œvarcharå¯ä»¥æœ‰é»˜è®¤å€¼ï¼Œtextä¸èƒ½æŒ‡å®šé»˜è®¤å€¼ã€‚</p></blockquote><p>æ—¶é—´ç±»å‹</p><p>1.datetimeç±»å‹ åŒæ—¶åŒ…å«æ—¥æœŸå’Œæ—¶é—´ä¿¡æ¯çš„å€¼æ—¶ã€‚Mysqlæ£€ç´¢å¹¶ä¸”ä»¥â€™YYYY-MM-DD HH:MM:SSâ€™æ ¼å¼æ˜¾ç¤ºdatetimeå€¼ï¼Œæ”¯æŒçš„èŒƒå›´æ˜¯â€™1000-01-01 00:00:00â€™åˆ°â€™9999-12-31 23:59:59â€™ã€‚å¯è¡¨ç¤ºæ—¶é—´èŒƒå›´å¤§ã€‚</p><p>2.dateç±»å‹ ä»…éœ€è¦æ—¥æœŸå€¼æ—¶ï¼Œæ²¡æœ‰æ—¶é—´éƒ¨åˆ†ã€‚MySQLæ£€ç´¢å¹¶ä¸”ä»¥â€™YYYY-MM-DDâ€™æ ¼å¼æ˜¾ç¤ºdateå€¼ï¼Œ<br>æ”¯æŒçš„èŒƒå›´æ˜¯â€™1000-01-01â€™åˆ°â€™9999-12-31â€™ã€‚</p><p>3.timestampç±»å‹ é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨ insert, update æ•°æ®æ—¶ï¼Œtimestamp åˆ—ä¼šè‡ªåŠ¨ä»¥å½“å‰æ—¶é—´ï¼ˆCURRENT_TIMESTAMPï¼‰å¡«å……/æ›´æ–°,æ‰€å å­˜å‚¨ç©ºé—´å°ã€‚</p><p>4.timeç±»å‹ è¡¨ç¤ºä¸€å¤©ä¸­çš„æ—¶é—´ã€‚MySQLæ£€ç´¢å¹¶ä¸”ä»¥â€HH:MM:SSâ€æ ¼å¼æ˜¾ç¤ºtimeå€¼ã€‚æ”¯æŒçš„èŒƒå›´æ˜¯â€™00:00:00â€™åˆ°â€™23:59:59â€™ã€‚</p><h3 id="å­—æ®µçš„ç´¢å¼•åŠå…¶è®¾ç½®"><a href="#å­—æ®µçš„ç´¢å¼•åŠå…¶è®¾ç½®" class="headerlink" title="å­—æ®µçš„ç´¢å¼•åŠå…¶è®¾ç½®"></a>å­—æ®µçš„ç´¢å¼•åŠå…¶è®¾ç½®</h3><p>1.æ™®é€šç´¢å¼•(index)ï¼šæœ€åŸºæœ¬çš„ç´¢å¼•ï¼Œæ²¡æœ‰ä»»ä½•é™åˆ¶ã€‚</p><p>2.å”¯ä¸€ç´¢å¼•(unique)ï¼šä¸â€æ™®é€šç´¢å¼•â€ç±»ä¼¼ï¼Œä¸åŒçš„å°±æ˜¯ï¼šç´¢å¼•åˆ—çš„å€¼å¿…é¡»å”¯ä¸€ï¼Œä½†å…è®¸æœ‰ç©ºå€¼ã€‚</p><p>3.ä¸»é”®ç´¢å¼•(primary)ï¼šå®ƒæ˜¯ä¸€ç§ç‰¹æ®Šçš„å”¯ä¸€ç´¢å¼•ï¼Œæä¾›å”¯ä¸€æ€§çº¦æŸï¼Œä¸å…è®¸æœ‰ç©ºå€¼ã€‚</p><p>4.å…¨æ–‡ç´¢å¼•(fulltext)ï¼šä»…å¯ç”¨äº MyISAM è¡¨ï¼Œç”¨äºåœ¨ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæ£€ç´¢æ–‡æœ¬ä¿¡æ¯çš„,é’ˆå¯¹è¾ƒå¤§çš„æ•°æ®ï¼Œç”Ÿæˆå…¨æ–‡ç´¢å¼•å¾ˆè€—æ—¶è€—ç©ºé—´ã€‚</p><blockquote><p>æ€»ç»“å¯¹ç´¢å¼•çš„ç®€å•ç†è§£ï¼šå¦‚æœä½ ç»™ä¸€ä¸ªå”¯ä¸€æ€§çš„å­—æ®µåŠ ä¸Šç´¢å¼•ï¼Œæ¯”å¦‚ä¸€ä¸ªå­—æ®µæ˜¯æˆ¿é—´å·ã€‚ä½ ä¸è®¾ç½®å­—æ®µçš„æƒ…å†µä¸‹å»æœç´¢RoomNumber=101ï¼Œé‚£ä¹ˆæ•°æ®åº“ä¼šå»ä¸€æ¡ä¸€æ¡çš„æœç´¢æ•°æ®åº“ä¸­çš„RoomNumberå­—æ®µï¼Œç›´åˆ°æ‰¾åˆ°101ç»™ä½ è¿”å›ï¼Œä½†å¦‚æœä½ æŠŠRoomNumberè®¾ç½®ä¸ºç´¢å¼•ï¼Œé‚£ä¹ˆæ•°æ®åº“å°±ä¼šç›´æ¥æ‰¾åˆ°RoomNumber=101è¿™æ¡ä¿¡æ¯ç»™ä½ è¿”å›ã€‚æ‰€ä»¥ç´¢å¼•çš„ä½œç”¨æ˜¯åŠ å¿«æ•°æ®åº“æœç´¢çš„æ•ˆç‡ï¼Œä½†æ˜¯åŒæ ·çš„ï¼Œä½ ç»™ä¸€ä¸ªå­—æ®µè®¾ç½®ä¸ºç´¢å¼•ï¼Œæ˜¯è¦æ¶ˆè€—èµ„æºçš„ã€‚</p></blockquote><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      <categories>
          
          <category> MYSQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SQLè®¾è®¡ </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
